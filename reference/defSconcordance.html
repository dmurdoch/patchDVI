<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Support for non-Sweave concordances. — defSconcordance • patchDVI</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Support for non-Sweave concordances. — defSconcordance"><meta name="description" content="Sweave automatically inserts concordances into the output file,
so they will be embedded in the .dvi or .pdf output using the LaTeX macro \Sconcordance from
the Sweave.sty style file.
Other vignette processing engines (e.g. knitr) do not
use Sweave.sty, so defSconcordance
defines the macro explicitly.
The useknitr function is specific to knitr documents.
If writeMacro is TRUE, it calls defSconcordance
to write the macro definition to the output file.  If writeMacro is not specified, it guesses the value by looking for
\begin{document} somewhere in the first 100 lines of the
file.
It always writes the \input line for the concordances into the file."><meta property="og:description" content="Sweave automatically inserts concordances into the output file,
so they will be embedded in the .dvi or .pdf output using the LaTeX macro \Sconcordance from
the Sweave.sty style file.
Other vignette processing engines (e.g. knitr) do not
use Sweave.sty, so defSconcordance
defines the macro explicitly.
The useknitr function is specific to knitr documents.
If writeMacro is TRUE, it calls defSconcordance
to write the macro definition to the output file.  If writeMacro is not specified, it guesses the value by looking for
\begin{document} somewhere in the first 100 lines of the
file.
It always writes the \input line for the concordances into the file."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">patchDVI</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.11.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/patchDVI.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/dmurdoch/patchDVI/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Support for non-Sweave concordances.</h1>

      <div class="d-none name"><code>defSconcordance.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Sweave automatically inserts concordances into the output file,
so they will be embedded in the <code class="file">.dvi</code> or <code class="file">.pdf</code> output using the LaTeX macro <code>\Sconcordance</code> from
the <code class="file">Sweave.sty</code> style file.
Other vignette processing engines (e.g. knitr) do not
use <code class="file">Sweave.sty</code>, so <code>defSconcordance</code>
defines the macro explicitly.</p>
<p>The <code>useknitr</code> function is specific to knitr documents.
If <code>writeMacro</code> is <code>TRUE</code>, it calls <code>defSconcordance</code>
to write the macro definition to the output file.  If <code>writeMacro</code> is not specified, it guesses the value by looking for
<code>\begin{document}</code> somewhere in the first 100 lines of the
file.
It always writes the <code>\input</code> line for the concordances into the file.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">defSconcordance</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu">useknitr</span><span class="op">(</span><span class="va">writeMacro</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <p></p>
<dl><dt id="arg-writemacro">writeMacro<a class="anchor" aria-label="anchor" href="#arg-writemacro"></a></dt>
<dd><p>logical; whether to call defSconcordance</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function is not necessary when using Sweave, it is only for other vignette engines.</p>
<p>With knitr, the concordances would be written to a file with a
name typically be of the form <code class="file">basename-concordance.tex</code>, where
the input file was <code class="file">basename.Rnw</code>.  You would insert it with code like</p><div class="sourceCode"><pre><code>
&lt;&lt;results="asis"&gt;&gt;=
patchDVI::useknitr()
@
</code></pre></div>

<p>If the document does use the <code class="file">Sweave.sty</code> style, or if it
is being included in another larger document, do
not use <code>defSconcorance</code>:  this can be forced by
calling <code>patchDVI::useknitr(writeMacro = FALSE)</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>These functions are called for the side effect of writing
out the LaTeX code.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Duncan Murdoch</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">defSconcordance</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> \newcommand{\Sconcordance}[1]{%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   \ifx\pdfoutput\undefined%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   \csname newcount\endcsname\pdfoutput\fi%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   \ifcase\pdfoutput\special{#1}%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   \else%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    \begingroup%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      \pdfcompresslevel=0%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      \immediate\pdfobj stream{#1}%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      \pdfcatalog{/SweaveConcordance \the\pdflastobj\space 0 R}%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    \endgroup%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   \fi}</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Duncan Murdoch.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

